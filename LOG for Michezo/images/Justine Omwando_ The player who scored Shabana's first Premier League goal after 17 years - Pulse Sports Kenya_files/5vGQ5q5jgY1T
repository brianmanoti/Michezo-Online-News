!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t){!function(){"use strict";try{if(void 0===e)var e={};if(e.defaults={trackingHost:"tt.onthe.io",projectId:"45414",projectSignature:"d6992dec5517cfe585d77a2f0f541143",projectCodeId:"5vGQ5q5jgY1T",projectCodeVersion:"4",crawlerFilter:"0",projectMainDomain:"",product:"mediabox-smart",conversions:"0",conversionsWithSubdomains:"0"},void 0===e)e={};if(e.doubleLoadingDetector=function(e,t){var r={init:function(){if("object"!=typeof window.__io&&(window.__io={}),window.__io.startedTrackers||(window.__io.startedTrackers=[]),-1!==window.__io.startedTrackers.indexOf(t.projectCodeId))return!0;window.__io.startedTrackers.push(t.projectCodeId)}};return r}(document,e.defaults),void 0===e)e={};if(e.helpers=function(t,r,i){var n={decodeURIrecursively:function(e){try{for(;decodeURIComponent(e)!=e;)e=decodeURIComponent(e)}catch(e){}return e},encodeURIonce:function(e){return encodeURIComponent(this.decodeURIrecursively(e))},bindOnUrlChange:function(e){var r=t.location.pathname;this.setIntervalSafe(t,function(){t.location.pathname!==r&&(r=t.location.pathname,e())},100)},bindOnElementInsertion:function(e,i,n){n||(n=r);var a=n.querySelectorAll(e);return a=t.Array.prototype.slice.call(a),this.setIntervalSafe(t,function(){var r,o=n.querySelectorAll(e);for(r=0;r<o.length;r++)-1===t.Array.prototype.indexOf.call(a,o[r])&&(a.push(o[r]),i(o[r]))},1e3)}};return n.ElementObserver={lookupDelay:1e3,init:function(e,t){this.elements=[],this.selector=e,this.parentElement=t||r,this.state={running:!1},this.intervalId=null},insertIgnoreAnElement:function(e){-1===this.elements.indexOf(e)&&(this.elements.push(e),this.callback(e))},start:function(e){this.state.running=!0,this.callback=e;var r,i=this.parentElement.querySelectorAll(this.selector);for(r=0;r<i.length;r++){if(!this.state.running)return;this.insertIgnoreAnElement(i[r])}this.intervalId&&(t.clearInterval(this.intervalId),this.intervalId=null),this.intervalId=this._setIntervalSafe(t,function(){if(!this.state.running)return t.clearInterval(this.intervalId),void(this.intervalId=null);var e,r=this.parentElement.querySelectorAll(this.selector);for(e=0;e<r.length;e++){if(!this.state.running)return;this.insertIgnoreAnElement(r[e])}}.bind(this),this.lookupDelay)},stop:function(){this.state.running=!1},_setIntervalSafe:function(){return this.setIntervalSafe.apply(this,arguments)}.bind(n)},n.sendGetRequest=function(e){if(t.XMLHttpRequest instanceof t.Object)this.getRemoteContent(e);else{var i=r.createElement("img");i.width=1,i.height=1,i.src=e}},n.getRemoteContent=function(e,r){r||(r=function(){});var i=new t.XMLHttpRequest;i.onreadystatechange=function(){this.readyState===t.XMLHttpRequest.DONE&&(200===this.status?r(this.responseText):r(void 0))},i.open("GET",e,!0),i.send()},n.getEnumerableKeys=function(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(t);return r},n.getDeepPropertySafe=function(e,t){var r;try{for(r=0;r<t.length;r++)e=e[t[r]];return e}catch(e){return}},n.parseJSONSafe=function(e){try{return t.JSON.parse(e)}catch(e){return}},n.parseURL=function(e){var i,n=r.createElement("a");n.href=e;try{i={hash:n.hash,hostname:n.hostname,hostnameNaked:n.hostname.split(".").length>2?n.hostname.replace(/^www\./,""):n.hostname,host:n.host,href:n.href,origin:n.origin,pathname:n.pathname,port:n.port,protocol:n.protocol,search:n.search}}catch(r){i={hash:"",hostname:t.location.hostname,hostnameNaked:t.location.hostname.split(".").length>2?t.location.hostname.replace(/^www\./,""):t.location.hostname,host:t.location.host,href:t.location.protocol+"//"+t.location.host+("/"===e.charAt(0)?e:"/"+e),origin:t.location.origin,pathname:e,port:t.location.port,protocol:t.location.protocol,search:""}}return"/"!==i.pathname.charAt(0)&&(i.pathname="/"+i.pathname),i},n.getMainDomain=function(){for(var e=0,i=this.parseURL(t.location.hostname).hostnameNaked,n=i.split("."),a="__io_test"+(new Date).getTime();e<n.length-1&&-1===r.cookie.indexOf(a+"=1");){var o=new Date;o.setMinutes(o.getMinutes()+1);var s=o.toUTCString();i=n.slice(-1-++e).join("."),this.setCookie(a,1,s,"/",i,null)}return this.setCookie(a,null,"Thu, 01 Jan 1970 00:00:01 GMT","/",i,null),i},n.messageWindow=function(e,t){e.postMessage(JSON.stringify(t),"*")},n.messageFrameWindow=function(e,t){this.messageWindow(e.contentWindow,t)},n.createObject=function(e){if("function"==typeof t.Object.create)return t.Object.create(e);function r(){}return r.prototype=e,new r},n.cloneObjectShallow=function(e){return t.JSON.parse(t.JSON.stringify(e))},n.identifyArray=function(e){return!(!e||"object"!=typeof e||"[object Array]"!==Object.prototype.toString.call(e))},n.setIntervalSafe=function(e,t,r){return e.setInterval(function(){try{t.apply(null,arguments)}catch(e){this.trackErrorMetric(e)}}.bind(this),r)},n.addEventListenerSafe=function(e,t,r){var i=function(){try{r.apply(null,arguments)}catch(e){this.trackErrorMetric(e)}}.bind(this);return e.addEventListener(t,i),i},n.trackErrorMetric=function(e,i){if(i=i||"error_script",this.trackErrorMetric.errorsCount=parseInt(this.trackErrorMetric.errorsCount,10)||0,!(this.trackErrorMetric.errorsCount>=10)){this.trackErrorMetric.errorsCount++;var n={title:"string"==typeof e?e:e.message+"\n\n"+e.stack,href:t.location.href,url:t.location.pathname,domain:t.location.hostname,page:r.title,user_agent:t.navigator.userAgent,referrer_uri:r.referrer};this.sendMetric(i,n)}},n.getMetricParamString=function(e,r){(r=this.cloneObjectShallow(r)).cdn_version=i.projectCodeVersion;var n=[];for(var a in r)""!==r[a]&&r.hasOwnProperty(a)&&n.push(a+":"+this.encodeURIonce(r[a]));var o=e+"["+n.join()+"]";return o=o.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(t.parseInt(arguments[1],16))}),"/?k[]="+i.projectId+":"+o},n.deferMetricToSendInBatch=function(e,r){if(this.deferMetricToSendInBatch.queue||(this.deferMetricToSendInBatch.queue=[]),this.deferMetricToSendInBatch.queue.push(this.getMetricParamString(e,r)),!this.deferMetricToSendInBatch.isQueueActive)var n=this.setIntervalSafe(t,function(){if(0===this.deferMetricToSendInBatch.queue.length)return this.deferMetricToSendInBatch.isQueueActive=!1,void t.clearInterval(n);this.deferMetricToSendInBatch.isQueueActive=!0;var e="";do{e+="&"+this.deferMetricToSendInBatch.queue.shift()}while(this.deferMetricToSendInBatch.queue.length&&(e+this.deferMetricToSendInBatch.queue[0]).length<1900);var r="https://"+i.trackingHost+"/"+e+"&s="+i.projectSignature+"&"+Date.now();this.sendGetRequest(r)}.bind(this),1e3)},n.sendMetric=function(e,t,r,n){var a="https://"+i.trackingHost+this.getMetricParamString(e,t)+"&s="+i.projectSignature+(r?"&_v="+r:"")+(n?"&__io="+this.getUserId():"")+"&"+Date.now();this.sendGetRequest(a)},n.hashFnv32a=function(e,t,r){var i,n,a=void 0===r?2166136261:r;for(i=0,n=e.length;i<n;i++)a^=e.charCodeAt(i),a+=(a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24);return t?("0000000"+(a>>>0).toString(16)).substr(-8):a>>>0},n.getStorageStatusLocal=function(){try{var e="__io_test"+(new Date).getTime();return t.localStorage.setItem(e,"1"),t.localStorage.removeItem(e),!0}catch(e){return!1}},n.getStorageStatusSession=function(){try{var e="__io_test"+(new Date).getTime();return t.sessionStorage.setItem(e,"1"),t.sessionStorage.removeItem(e),!0}catch(e){return!1}},n.setPreviousURI=function(e,t){var r={},n=!(!i||!i.projectId)&&this.getCookieValue("__io_nav_state"+i.projectId),a=this.getMainDomain();n&&(r=this.parseJSONSafe(n)||{});var o=new Date((new Date).getTime()+9e5).toUTCString(),s=i&&i.projectId?i.projectId:"";this.setCookie("__io_nav_state"+s,JSON.stringify({current:e,currentDomain:t||"",previous:r.current,previousDomain:r.currentDomain?r.currentDomain:""}),o,"/","."+a)},n.getPreviousURI=function(){var e={},t=!(!i||!i.projectId)&&this.getCookieValue("__io_nav_state"+i.projectId);if(t&&(e=this.parseJSONSafe(t)||{}),e.previous&&e.previous!==e.current)return e.previous},n.getPreviousDomain=function(){var e={},t=!(!i||!i.projectId)&&this.getCookieValue("__io_nav_state"+i.projectId);if(t&&(e=this.parseJSONSafe(t)||{}),e.previous&&e.previous!==e.current&&e.previousDomain)return e.previousDomain},n.setStorageItem=function(e,r,i){i=i?t.encodeURIComponent(i):i;try{switch(e){case"local":t.localStorage.setItem(r,i);break;case"session":t.sessionStorage.setItem(r,i);break;default:throw new Error("IO -- invalid storage type specified")}return!0}catch(e){this.trackErrorMetric(e)}},n.getStorageItem=function(e,r){var i;switch(e){case"local":i=t.localStorage.getItem(r);break;case"session":i=t.sessionStorage.getItem(r)}try{return i?t.decodeURIComponent(i):i}catch(e){this.trackErrorMetric(e)}},n.getPreviousPageTitle=function(){if(this.getStorageStatusSession()){var e,t,i=r.title;if(e=this.getStorageItem("session","__io_previous_title_a"),t=this.getStorageItem("session","__io_previous_title_b"),e===i){if(t)return t}else if(this.setStorageItem("session","__io_previous_title_a",i),e)return this.setStorageItem("session","__io_previous_title_b",e),e}},n.getLastestHeadlineTestIds=function(){if(this.getStorageStatusSession()){var e=this.parseJSONSafe(t.sessionStorage.getItem("__io_headline_testing_latest"));if(e&&"object"==typeof e)return e.lifetime<0?(t.sessionStorage.removeItem("__io_headline_testing_latest"),e={}):e.previousPathname!==t.location.pathname&&(e.previousPathname=t.location.pathname,--e.lifetime,t.sessionStorage.setItem("__io_headline_testing_latest",JSON.stringify(e))),{blockId:e.blockId||void 0,headlineId:e.headlineId||void 0}}},n.getSearchParam=function(e,r){var i=(r?this.parseURL(r).search:t.location.search).match("[?&]"+e+"=([^(&?)]*)");return i?i[i.length-1]:""},n.getCookieValue=function(e){var t=r.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?this.decodeURIrecursively(t[t.length-1]):""},n.setCookie=function(e,t,i,n,a,o){var s=new Date;s.setFullYear(s.getFullYear()+1),s=s.toUTCString(),i||(i=s),n||(n="/"),void 0!==t&&(t=encodeURIComponent(t));var c=e+"="+(t||"")+"; expires="+i+"; path="+n+(a?"; domain="+a:"")+(o?"; secure":"");r.cookie=c},n.deleteCookie=function(e,r,i){i===t.location.hostname&&(i=null),this.setCookie(e,null,"Thu, 01 Jan 1970 00:00:01 GMT",r,i)},n.getDepth=function(){return this.getDepthCookie()},n.getDepthCookie=function(){var e=new Date((new Date).getTime()+9e5).toUTCString(),r=this.hashFnv32a(t.location.pathname),i=this.getCookieValue("__io_d");if(!i||2!==i.split("_").length)return this.setCookie("__io_d","1_"+r,e,"/","."+this.getMainDomain()),1;var n=i.split("_")[1],a=t.parseInt(i.split("_")[0],10);if(r==n)return a||1;var o=(a||0)+1;return this.setCookie("__io_d",o+"_"+r,e,"/",this.getMainDomain()),o},n.getDepthSession=function(){var e=this.hashFnv32a(t.location.pathname),r=t.sessionStorage.getItem("__io_d");if(!r||2!==r.split("_").length)return t.sessionStorage.setItem("__io_d","1_"+e),1;var i=r.split("_")[1],n=t.parseInt(r.split("_")[0],10);if(e==i)return n||1;var a=(n||0)+1;return t.sessionStorage.setItem("__io_d",a+"_"+e),a},n.getUserId=function(){var e=this.getCookieValue("__io")||this.getRandomHash();return t.parseInt(i.projectUniquesBySuperdomain,10)?(this.deleteCookie("__io","/",t.location.hostname),e=this.getCookieValue("__io")||this.getRandomHash(),this.setCookie("__io",e,!1,"/","."+this.getMainDomain())):this.setCookie("__io",e),e},n.getReferrerCurrentExternal=function(e){if(!(e=e||r.referrer))return null;var n=this.parseURL(e).hostnameNaked,a=this.parseURL(t.location.hostname).hostnameNaked,o=!1;return""!==i.projectMainDomain&&(o=-1!==n.indexOf(i.projectMainDomain)),o?null:n===a?null:n},n.getReferrerCurrentFromParams=function(e){e=e||t.location.href;var r=this.getSearchParam("io_source",e),i=this.getSearchParam("io_utm_social",e),n="?f"===this.parseURL(e).search?"facebook_group":null,a=this.getSearchParam("utm_referrer",e),o=this.getSearchParam("utm_source",e),s=this.getSearchParam("source",e);return r||i||n||a||o||s},n.getReferrer=function(e,t){var r=this.getReferrerCurrentFromParams(t)||this.getReferrerCurrentExternal(e);return r?(this.setCookie("__io_r",r),r):this.getCookieValue("__io_r")},n.getReferrerFirst=function(e){var t=this.getCookieValue("__io_first_source"),r=this.getReferrer(e);return!t&&r?(this.setCookie("__io_first_source",r),r):t},n.getDeviceName=function(){var e=t.navigator.userAgent||"undefined",r="desktop",i=/Android|webOS|iPhone|PlayBook|iPad|iPod|IEMobile|BlackBerry|Mobile|Opera Mini/i.test(e),n=/Tablet|PlayBook|iPad/i.test(e)||/Android/i.test(e)&&!/Mobile/i.test(e)&&!/Opera Mini/i.test(e),a=/Android/i.test(e),o=/iPhone|iPad|iPod/i.test(e);return i&&(n?(r="tablet",r+=a?" (Android)":o?" (iOS)":" (Other)"):(r="smart",r+=a?" (Android)":o?" (iOS)":" (Other)")),r},n.getBrowserNameAndVersion=function(){var e,r,i=t.navigator.userAgent,n="";switch(!0){case-1!==(e=i.indexOf("OPR/")):n=i.substring(e+4);break;case-1!==(e=i.indexOf("Opera"))&&-1!==(e=i.indexOf("Version")):n=i.substring(e+8);break;case-1!==(e=i.indexOf("Opera")):n=i.substring(e+6);break;case-1!==(e=i.indexOf("MSIE")):n=i.substring(e+5);break;case-1!==(e=i.indexOf("Chrome")):n=i.substring(e+7);break;case-1!==(e=i.indexOf("Safari"))&&-1!==(e=i.indexOf("Version")):n=i.substring(e+8);break;case-1!==(e=i.indexOf("Safari")):n=i.substring(e+7);break;case-1!==(e=i.indexOf("Firefox")):n=i.substring(e+8);break;case-1!==i.indexOf("Trident")&&-1!==(e=i.indexOf("rv:")):n=i.substring(e+3).split(")")[0];break;case(e=i.lastIndexOf(" ")+1)<(e=i.lastIndexOf("/")):n=i.substring(e+1)}return n=n.split(";")[0].split(" ")[0],r=(r=t.parseInt(n,10))||"(unknown version)",this.getBrowserName()+" "+r},n.getUserLifeTime=function(){var e=r.cookie.match(/__io=([^;]+)/);return e?(e=e[1].split("_")[1],(e=Math.round((+Date.now()-e)/864e5))<0&&(e=0),0==e?e="0":e<7?e+="d":e=e<30?Math.round(e/7)+"w":Math.round(e/30)+"m",e):"0"},n.getUserLifeTimeNumber=function(){var e=r.cookie.match(/__io_lv=([^;]+)/);return e?(e=e[1],e=Math.round((+Date.now()-e)/864e5)):"0"},n.getUserType=function(){var e="";if(-1==r.cookie.indexOf("__io_lv=")){e="new";var t=new Date;t.setFullYear(t.getFullYear()+1),r.cookie="__io_lv="+ +Date.now()+"; expires="+t.toUTCString()+"; path=/"}else if(0==this.getUserLifeTime())e="new";else{var i=1*this.getUserLifeTimeNumber();e=i>30?"new":i>7?"returned":"constant";var n=new Date;n.setFullYear(n.getFullYear()+1),r.cookie="__io_lv="+ +Date.now()+"; expires="+n.toUTCString()+"; path=/"}return e},n.getUserTypeByProject=function(){var e="",t="__io_ut_state"+i.projectId,n="",a=this.getStorageStatusSession();if(a&&(e=this.getStorageItem("session",t)),-1===r.cookie.indexOf("__io_lv")){n="new";var o=new Date;o.setFullYear(o.getFullYear()+1),r.cookie="__io_lv="+ +Date.now()+"; expires="+o.toUTCString()+"; path=/"}else if(0==this.getUserLifeTime())n="new";else{var s=1*this.getUserLifeTimeNumber();n=s>30?"new":s>7?"returned":"constant";var c=new Date;c.setFullYear(c.getFullYear()+1),r.cookie="__io_lv="+ +Date.now()+"; expires="+c.toUTCString()+"; path=/"}return e||(a&&this.setStorageItem("session",t,n),n)},n.getBrowserName=function(){var e,i,n="[object OperaMini]"===Object.prototype.toString.call(t.operamini),a=!(n||(!t.opr||!t.opr.addons)&&!t.opera),o="undefined"!=typeof InstallTrigger,s=/constructor/i.test(t.HTMLElement)||"[object SafariRemoteNotification]"===Object.prototype.toString.call(this.getDeepPropertySafe(t,["safari","pushNotification"]))||"Apple Computer, Inc."===t.navigator.vendor,c=!!r.documentMode,l=[{name:"Opera",isCurrent:a},{name:"Firefox",isCurrent:o},{name:"Safari",isCurrent:s},{name:"IE",isCurrent:c},{name:"Edge",isCurrent:!c&&!!t.StyleMedia},{name:"Chrome",isCurrent:!(a||!t.chrome||!t.chrome.webstore&&!t.chrome.runtime)},{name:"Opera Mini",isCurrent:n}];for(i=0;i<l.length;i++)if(l[i].isCurrent){if(e)return"Other";e=l[i].name}return e||"Other"},n.getReferenceTimeFromWordsCount=function(e){return Math.round(t.parseInt(e,10)/(190/60))},n.getTextFromElement=function(e){var t,r,i="",n=["SCRIPT","STYLE","NOSCRIPT","VIDEO"];for(r=0;r<e.childNodes.length;r++)t=e.childNodes[r],-1===n.indexOf(t.nodeName)&&(1===t.nodeType?i+=this.getTextFromElement(t):3===t.nodeType&&(i+=t.nodeValue));return i},n.getReferenceTimeFromBlock=function(e){var t,i;if(t=r.querySelector(e))return i=this.getTextFromElement(t).trim().split(/\s+/).length,this.getReferenceTimeFromWordsCount(i)},n.getSortedSemver=function(e){return e.sort(function(e,r){var i,n,a=/(\.0+)+$/,o=e.replace(a,"").split("."),s=r.replace(a,"").split("."),c=Math.min(o.length,s.length);for(i=0;i<c;i++)if(n=t.parseInt(o[i],10)-t.parseInt(s[i],10))return n;return o.length-s.length})},n.getRandomHash=function(){return Math.floor(68719476736*(1+Math.random())).toString(16).substring(1)+"."+Math.floor(68719476736*(1+Math.random())).toString(16).substring(1)+"_"+Date.now()},n.getUTMCampaign=function(){var e={},t={};return r.referrer&&(t=this.parseURL(r.referrer)),e.referrerHostname=t.hostname||"",e.gclid=this.getSearchParam("gclid")||"",e.campaign=this.getSearchParam("utm_campaign")||"",e},n.getPreviousUTMCampaign=function(){var e=this.parseJSONSafe(this.getCookieValue("__io_pr_utm_campaign"))||{};return e.referrerHostname=e.referrerHostname||"",e.gclid=e.gclid||"",e.campaign=e.campaign||"",e},n.setPreviousUTMCampaign=function(e){if(e){var t="."+this.getMainDomain(),r={};null!==e.referrerHostname&&void 0!==e.referrerHostname&&""!==e.referrerHostname&&(r.referrerHostname=e.referrerHostname),null!==e.gclid&&void 0!==e.gclid&&""!==e.gclid&&(r.gclid=e.gclid),null!==e.campaign&&void 0!==e.campaign&&""!==e.campaign&&(r.campaign=e.campaign),this.setCookie("__io_pr_utm_campaign",JSON.stringify(r),null,"/",t)}},n.getCampaignResetStatus=function(){var e=this.getMainDomain();if(r.referrer&&-1===r.referrer.indexOf(e)){var t=this.getUTMCampaign(),i=this.getPreviousUTMCampaign();if(t.referrerHostname!==i.referrerHostname||t.gclid!==i.gclid||t.campaign!==i.campaign)return this.setPreviousUTMCampaign(t),!0}return!1},n.getSessionId=function(){var e=this.getCookieValue("__io_session_id"),t=new Date((new Date).getTime()+18e5).toUTCString(),r="."+this.getMainDomain();new Date((new Date).getTime()+18e5).getDate()>(new Date).getDate()&&(t=new Date((new Date).setHours(24,0,0,0)).toUTCString());var i=this.getCampaignResetStatus();return e&&!i?(this.setCookie("__io_session_id",e,t,"/",r),e):(e=this.getRandomHash(),this.setCookie("__io_session_id",e,t,"/",r),e)},n.setConversionsPageData=function(r){var i=this.getConversionsPageData(),n=JSON.stringify({previous:i.current||{},current:{url:r.url,domain:r.domain,category:r.category,author:r.author,pr:r.pr,depth:r.depth}});if(!this.getStorageStatusLocal()||t.parseInt(e.defaults.conversionsWithSubdomains,10)){var a=e.defaults.projectMainDomain||t.location.hostname;this.setCookie("__io_conversions_page",n,!1,"/",a)}else this.setStorageItem("local","__io_conversions_page",n)},n.getConversionsPageData=function(){var r={};return!this.getStorageStatusLocal()||t.parseInt(e.defaults.conversionsWithSubdomains,10)?this.parseJSONSafe(this.getCookieValue("__io_conversions_page"))||r:this.parseJSONSafe(this.getStorageItem("local","__io_conversions_page"))||r},n.parseLength=function(e){return e&&e.length?e.length:0},n.injectScriptBySrc=function(e,t){var i=r.getElementsByTagName("script")[0],n=r.createElement("script");n.id=t,n.async=!0,n.src=e,i.parentNode.insertBefore(n,i)},n.loadComponentAsync=function(e){try{return e.init()}catch(e){this.trackErrorMetric(e)}},n}(window,document,e.defaults),void 0===e)e={};if(e.debugCodeLoader=function(e,t){var r={flagName:"_io_debug_tracking",init:function(){var r=t.getSearchParam(this.flagName),i=t.getCookieValue(this.flagName),n=r||i;if(n){var a={id:e.projectCodeId+"_"+n,uri:"https://"+n+"_cdn.onthe.io/io.js/"+e.projectCodeId};if(!document.getElementById(a.id))return t.injectScriptBySrc(a.uri,a.id),!0}}};return r}(e.defaults,e.helpers),void 0===e)e={};if(e.configParser=function(e,t,r){var i={appendDefaultSlices:function(t,i){if(r.decodeURIrecursively(t.url)!==r.decodeURIrecursively(e.location.pathname)&&(t.url_real=e.location.pathname),!t.reference_time){var n=r.getReferenceTimeFromBlock('[data-io-article-url="'+i+'"]');n&&(t.reference_time=n)}var a=r.getLastestHeadlineTestIds();a&&(t.ab_block_id=a.blockId,t.ab_headline_id=a.headlineId),t.user_agent=e.navigator.userAgent,t.pr=r.getPreviousURI(),t.pr_domain=r.getPreviousDomain(),t.device=r.getDeviceName(),t.browser_version=r.getBrowserNameAndVersion(),t.browser=r.getBrowserName(),t.referrer=r.getReferrer(null,i),t.first_source=r.getReferrerFirst(),t.depth=r.getDepth(),t.user_type=r.getUserTypeByProject(),t.user_id=r.getUserId(),t.session_id=r.getSessionId()},transformSliceValue:function(e){return String(e).trim()},transformSliceValuePlural:function(e){var t,i,n=[];for(t=0;t<r.parseLength(e);t++)(i=this.transformSliceValue(e[t]))&&-1===n.indexOf(i)&&n.push(i);return n.join("|")},getSlicesFromPageDescriptor:function(e){var t,i,n,a={};for(t in e)if(e.hasOwnProperty(t)&&(i=e[t])&&(i=r.identifyArray(i)?this.transformSliceValuePlural(i):this.transformSliceValue(i)))switch(t){case"page_url":n=r.parseURL(i),a.url||(a.url=n.pathname,a.domain=n.hostname),a.domain||"main"!==e.page_type||(a.domain=n.hostname);break;case"page_url_canonical":if("main"===e.page_type)break;n=r.parseURL(i),a.domain=n.hostname,a.url=n.pathname+n.search;break;case"page_title":a.page=i;break;case"page_type":a.page_type=i,"article"===i&&(a.author||(a.author="No Author"),a.category||(a.category="No Category")),"main"===i&&(a.url="/");break;case"page_language":a.language=i;break;case"article_authors":"article"===e.page_type&&(a.author=i);break;case"article_categories":a.category=i;break;case"article_subcategories":a.sub_category=i;break;case"article_type":a.type_article=i;break;case"article_word_count":a.reference_time=r.getReferenceTimeFromWordsCount(i);break;case"article_publication_date":a.pub_date=i;break;case"tags":a.article_tags=i;break;default:a[t]=i}return a.page||(a.page="No Title"),a},getLatestConfig:function(){if("[object Object]"===String(e._io_config)){var t=r.getSortedSemver(r.getEnumerableKeys(e._io_config)).pop();return e._io_config[t]}}},n={init:function(e){return this.data=e,this},getSlices:function(){var e=i.getSlicesFromPageDescriptor(this.data);return i.appendDefaultSlices(e,this.data.page_url,e.url),e},defaultTypes:["main","article","default"],optInPageTypes:["video-embed"],getPageType:function(){var e=String(this.data.page_type).trim();return-1===this.defaultTypes.indexOf(e)&&-1===this.optInPageTypes.indexOf(e)&&(e="default"),e}};return i.PageDescriptor=n,i.getPageDescriptor=function(t,i){i||(i=this.PageDescriptor.defaultTypes);var n=this.getLatestConfig();if(n){var a,o,s,c=t?r.parseURL(t).pathname:e.location.pathname;"/"!==(c=r.decodeURIrecursively(c)).slice(-1)&&(c+="/");for(var l=r.parseLength(n);l--;)(a=n[l]).page_url&&(o=r.parseURL(a.page_url).pathname,"/"!==(o=r.decodeURIrecursively(o)).slice(-1)&&(o+="/"),o===c&&(s=r.createObject(this.PageDescriptor).init(a)));return s?-1===i.indexOf(s.getPageType())?null:s:null}},i.bindOnPageDescriptorAppearance=function(t,i,n){var a=this.getPageDescriptor(t,n);if(a)i(a);else var o=r.setIntervalSafe(e,function(){var r=this.getPageDescriptor(t,n);r&&(e.clearInterval(o),i(r))}.bind(this),100)},i}(window,document,e.helpers),void 0===e)e={};if(e.configParser.appendDefaultSlices=function(t,r){e.helpers.decodeURIrecursively(t.url)!==e.helpers.decodeURIrecursively(window.location.pathname)&&(t.url_real=window.location.pathname),t.user_agent=window.navigator.userAgent,t.pr=e.helpers.getPreviousURI(),t.pr_domain=e.helpers.getPreviousDomain(),t.device=e.helpers.getDeviceName(),t.browser_version=e.helpers.getBrowserNameAndVersion(),t.browser=e.helpers.getBrowserName(),t.referrer=e.helpers.getReferrer(null,r),t.first_source=e.helpers.getReferrerFirst(),t.depth=e.helpers.getDepth(),t.user_type=e.helpers.getUserTypeByProject(),t.user_id=e.helpers.getUserId(),t.session_id=e.helpers.getSessionId()},e.configParser.getSlicesFromPageDescriptor=function(t){var r,i,n,a={};for(r in t)if(t.hasOwnProperty(r)&&(i=t[r])&&(i=e.helpers.identifyArray(i)?this.transformSliceValuePlural(i):this.transformSliceValue(i)))switch(r){case"page_url":n=e.helpers.parseURL(i),a.url||(a.url=n.pathname,a.domain=n.hostname),a.domain||"main"!==t.page_type||(a.domain=n.hostname);break;case"page_url_canonical":if("main"===t.page_type)break;n=e.helpers.parseURL(i),a.domain=n.hostname,a.url=n.pathname+n.search;break;case"page_title":a.page=i;break;case"page_type":"article"===i&&(a.author||(a.author="No Author"),a.category||(a.category="No Category")),"main"===i&&(a.url="/");break;case"article_authors":"article"===t.page_type&&(a.author=i);break;case"article_categories":a.category=i;break;case"article_subcategories":a.sub_category=i;break;case"article_type":a.type_article=i;break;case"article_publication_date":a.pub_date=i;break;default:a[r]=i}return a.page||(a.page="No Title"),a},e.configParser.getPageDescriptor=function(t,r){r||(r=this.PageDescriptor.defaultTypes);var i=this.getLatestConfig();if(i){var n,a,o,s=t?e.helpers.parseURL(t).pathname:window.location.pathname;"/"!==(s=e.helpers.decodeURIrecursively(s)).slice(-1)&&(s+="/");for(var c=e.helpers.parseLength(i);c--;)(n=this.filterSlices(i[c])).page_url&&(a=e.helpers.parseURL(n.page_url).pathname,"/"!==(a=e.helpers.decodeURIrecursively(a)).slice(-1)&&(a+="/"),a===s&&(o=e.helpers.createObject(this.PageDescriptor).init(n)))}else o=e.helpers.createObject(this.PageDescriptor).init(this.filterSlices({}));return o?-1===r.indexOf(o.getPageType())?null:o:null},e.configParser.filterSlices=function(t){var r={page_title:t.page_title||document.title,page_url:t.page_url||window.location.pathname+window.location.search,page_url_canonical:t.page_url_canonical||window.location.pathname,page_type:"article",article_authors:t.authors||t.article_authors||["No Author"],article_categories:t.categories||t.article_categories||["No Category"],article_publication_date:t.article_publication_date||""};if("mediabox-smart"==e.defaults.product){var i={article_tags:t.tags||t.article_tags||null,user_status:t.user_status||null,article_type:t.article_type||null,article_subcategories:t.subcategories||t.article_subcategories||null};for(var n in i)null!==i[n]&&(r[n]=i[n])}return r},void 0===e)e={};if(e.viewTracker=function(e,t,r){var i={listenForConfigAndPageMatchOnce:function(){r.bindOnPageDescriptorAppearance(e.location.href,function(e){var r=e.getSlices();t.sendMetric("pageviews",r)}.bind(this))},listenForPageChnages:function(){t.bindOnUrlChange(this.listenForConfigAndPageMatchOnce.bind(this))},init:function(){this.listenForConfigAndPageMatchOnce(),this.listenForPageChnages()}};return i}(window,e.helpers,e.configParser),void 0===e)e={};if(e.readabilityTracker=function(e,t,r,i){var n={pageYOffset:0,scrollHeight:t.documentElement.scrollHeight},a={getScrollPercent:function(){if(n.windowPageYOffset>e.pageYOffset)return 0;n.windowPageYOffset=e.pageYOffset;var t=n.scrollHeight,r=e.pageYOffset-n.pageYOffset;if(!t)return 0;var i=t-r-e.innerHeight;i<0&&(i=0);var a=100-i/t*100;return Math.abs(+a.toFixed())},sendMetric:function(e){i.bindOnPageDescriptorAppearance(this.url,function(t){r.sendMetric(e,t.getSlices())})},tryToTrackReadabilityAndUnbind25:function(){this.getScrollPercent()<=25||(e.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind25),this.sendMetric("read_top"))},tryToTrackReadabilityAndUnbind50:function(){this.getScrollPercent()<=50||(e.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind50),this.sendMetric("read_middle"))},tryToTrackReadabilityAndUnbind75:function(){this.getScrollPercent()<=75||(e.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind75),this.sendMetric("read_bottom"))},tryToTrackReadabilityAndUnbind95:function(){this.getScrollPercent()<=95||(e.removeEventListener("scroll",this.boundHandles.tryToTrackReadabilityAndUnbind95),this.sendMetric("read_finished"))},bindEvents:function(){this.boundHandles={},this.boundHandles.tryToTrackReadabilityAndUnbind25=r.addEventListenerSafe(e,"scroll",this.tryToTrackReadabilityAndUnbind25.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind50=r.addEventListenerSafe(e,"scroll",this.tryToTrackReadabilityAndUnbind50.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind75=r.addEventListenerSafe(e,"scroll",this.tryToTrackReadabilityAndUnbind75.bind(this)),this.boundHandles.tryToTrackReadabilityAndUnbind95=r.addEventListenerSafe(e,"scroll",this.tryToTrackReadabilityAndUnbind95.bind(this))},init:function(t){this.element=t,this.url=e.location.pathname+e.location.search,this.bindEvents()}},o={trackExistingArticles:function(){var e=r.createObject(a);e.init(t.documentElement),this.instances.push(e)},onUrlChangeCallback:function(){n.pageYOffset=e.pageYOffset,n.scrollHeight=t.documentElement.scrollHeight-n.pageYOffset,this.trackExistingArticles()},listenForPageChnages:function(){r.bindOnUrlChange(this.onUrlChangeCallback.bind(this))},init:function(){this.instances=this.instances||[],this.listenForPageChnages(),this.trackExistingArticles()}};return{init:function(){o.init()},ArticleReadabilityTracker:o,ArticleToRead:a}}(window,document,e.helpers,e.configParser),void 0===e)e={};if(e.timeTracker=function(e,t,r,i){var n={allowedSlices:["url","ab_block_id","ab_headline_id","device","user_status","type_article","user_id"],init:function(){r.setIntervalSafe(e,function(){("function"!=typeof t.hasFocus||t.hasFocus())&&(t.hidden||i.bindOnPageDescriptorAppearance(e.location.href,function(e){var t=e.getSlices();if(t.url){for(var i={},n=0;n<r.parseLength(this.allowedSlices);n++)t.hasOwnProperty(this.allowedSlices[n])&&(i[this.allowedSlices[n]]=t[this.allowedSlices[n]]);r.sendMetric("time",i)}}.bind(this)))}.bind(this),1e4)}};return n}(window,document,e.helpers,e.configParser),void 0===e)e={};if(e.instantArticlesTracker=function(e,t){var r={trackPageviews:function(){var r=t.parseURL(e.ia_document.shareURL);t.sendMetric("pageviews_instant",{url:r.pathname,domain:r.hostname,depth:1,referrer:"fb_ia",device:"smart (Other)",page_type:"article",user_id:t.getUserId(),session_id:t.getSessionId()})},trackTime:function(){t.setIntervalSafe(e,function(){t.sendMetric("time",{url:t.parseURL(e.ia_document.shareURL).pathname})},1e4)},init:function(){if(e.ia_document)return this.trackPageviews(),!0}};return r}(window,e.helpers),void 0===e)e={};if(e.previousPageWatcher=function(t,r,i){var n={listenForConfigAndPageMatchOnce:function(){i.bindOnPageDescriptorAppearance(t.location.href,function(i){var n=i.getSlices();r.setPreviousURI(n.url,n.domain),"disabled"!==n.page_conversion&&t.parseInt(e.defaults.conversions,10)&&r.setConversionsPageData(n)}.bind(this))},listenForPageChnages:function(){r.bindOnUrlChange(this.listenForConfigAndPageMatchOnce.bind(this))},init:function(){"object"!=typeof t.__io&&(t.__io={}),t.__io.isPreviousPageWatcherInitialized||(t.__io.isPreviousPageWatcherInitialized=!0,i?(this.listenForConfigAndPageMatchOnce(),this.listenForPageChnages()):(r.setPreviousURI(t.location.pathname,t.location.hostname),r.bindOnUrlChange(function(){r.setPreviousURI(t.location.pathname,t.location.hostname)})))}};return n}(window,e.helpers,e.configParser),void 0===e)e={};if(e.widgetLoader=function(e,t,r,i,n){var a={};return e._io_widget={},a.reload=function(){this.clearDOM(),this.insertIntoDOM(),i.bindOnPageDescriptorAppearance(e.location.href,function(t){e._io_widget.configSlices=t.getSlices(),e._io_widget.configArticleBlockUrl=t.data.page_url,e._io_widget.start()}.bind(this))},a.clearDOM=function(){for(var e=t.querySelectorAll('div[data-io-id="_io_widget_element"], script[data-io-id="_io_widget_element"]'),r=0;r<n.parseLength(e);r++)e[r].remove()},a.insertIntoDOM=function(){var e=t.createElement("div"),r=t.createElement("script");r.type="text/javascript",r.text=this.data.widget.js,e.style.position="static",r.id="_io_widget_element_div",r.dataset.ioId=e.dataset.ioId="_io_widget_element",e.innerHTML=this.data.widget.html,t.body.appendChild(e),t.body.appendChild(r)},a.startWidget=function(t){this.clearDOM(),this.insertIntoDOM(),e._io_widget.configSlices=t.getSlices(),e._io_widget.configArticleBlockUrl=t.data.page_url,e._io_widget.start(this.data.widget.type,this.data.widget.overall)},a.load=function(r,i,a){e._io_widget={id:i,hash:r};var o=new XMLHttpRequest,s=function(){var e=n.getCookieValue("_io_widget_debug");return"https://"+(e=e?e+"_":"")+"widget.onthe.io"}(),c={id:i,hash:r,title:t.title,force_type:"main_new",path:e.location.pathname+e.location.search};o.open("POST",s,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var r=JSON.parse(o.responseText);if(!r)return;this.data=r;var i=n.setIntervalSafe(e,function(){t.body&&(e.clearInterval(i),this.startWidget(a))}.bind(this),1e3)}}.bind(this);var l="";for(var u in c)l+=u+"="+encodeURIComponent(c[u])+"&";o.send(l)},a.init=function(){var a=(e.location.hash.match(/^#client-widget-([a-z0-9_]{32})/i)||[]).pop(),o=(t.cookie.match(/_io_widget=([a-z0-9_]{32})/i)||[]).pop(),s=(e.location.search.match(/\?widget-token=([a-z0-9_]{64})/i)||[]).pop(),c=(e.location.hash.match(/_widget-token-([a-z0-9_]{64})/i)||[]).pop(),l=(t.cookie.match(/_io_widget_token=([a-z0-9_]{64})/i)||[]).pop(),u=a||o,d=s||c||l;if(u){var h=new Date((new Date).setFullYear((new Date).getFullYear()+1)).toUTCString(),g=e.location.hostname.replace(/^www\./i,""),p=e.location.pathname;e.parseInt(r.setWidgetOnMainDomain,10)&&(g=n.getMainDomain(),p="/"),t.cookie="_io_widget="+u+"; expires="+h+"; domain="+g+"; path="+p;var f=e.location.search;if(d&&(f=e.location.search.replace(/\?widget-token=([a-z0-9_]{64})/i,""),t.cookie="_io_widget_token="+d+"; expires="+h+"; domain="+g+"; path="+p),a){var m=e.location.protocol+"//"+e.location.hostname+e.location.pathname+f;history.pushState("",t.title,m)}i.bindOnPageDescriptorAppearance(e.location.href,function(e){this.load(u,r.projectId,e)}.bind(this)),n.bindOnUrlChange(this.reload.bind(this))}},a}(window,document,e.defaults,e.configParser,e.helpers),e.helpers.loadComponentAsync(e.debugCodeLoader))return;if(e.helpers.loadComponentAsync(e.doubleLoadingDetector))return;e.helpers.loadComponentAsync(e.instantArticlesTracker),e.helpers.loadComponentAsync(e.previousPageWatcher),e.helpers.loadComponentAsync(e.viewTracker),e.helpers.loadComponentAsync(e.readabilityTracker),e.helpers.loadComponentAsync(e.timeTracker),e.helpers.loadComponentAsync(e.widgetLoader)}catch(t){try{e.helpers.trackErrorMetric(t)}catch(e){}}}()}]);